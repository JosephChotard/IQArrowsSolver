_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{"1Ip3":function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return y}));var r=t("a3WO");var o=t("BsWD");function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=t("ODXe"),i=t("nKUr"),l=t("q1tI"),u=t.n(l),s=t("ulpj"),f=t("NAr4"),d=t("whm7"),p=t("20a2"),b=t.n(p),v=t("IUck"),h=t("VlDF"),m=t("Vjw5"),_=t.n(m),j=t("YFqc"),O=t.n(j);function y(){var e=u.a.useState(null),n=Object(c.a)(e,2),t=n[0],r=n[1],o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r(null);var n=new Array(3).fill(s.b.NONE).map((function(){return new Array(6).fill([s.b.NONE,""])})),t=Math.floor(3*Math.random())+3;fetch("".concat("/IQArrowsSolver","/constraints/constraints-").concat(t,".txt")).then((function(e){return e.text()})).then((function(t){var o=t.split(/\r\n|\r|\n/),a=o[Math.floor(Math.random()*(o.length-1+1))],c=a.substring(1,a.length-2).split("), ").map((function(e){return e.substring(1).split("): (").map((function(e){return e.split(", ")}))})),i={};c.forEach((function(e){i["".concat(e[0][0],"c").concat(e[0][1])]=e[1][0]})),r(Object(f.a)(n,i));var l="/problems/".concat(Object(v.a)(i));e?b.a.replace(l,l,{shallow:!0}):b.a.push(l,l,{shallow:!0})}))};return u.a.useEffect((function(){if(0===window.location.search.length)o(!0);else{var e=new Array(3).fill(s.b.NONE).map((function(){return new Array(6).fill([s.b.NONE,""])})),n=Object(h.a)();r(Object(f.a)(e,n))}}),[]),Object(i.jsxs)("div",{className:_.a.problems,children:[Object(i.jsx)("h1",{children:"Here is a brand new puzzle for you to solve"}),Object(i.jsxs)("p",{children:["As always, there is only one possible solution. You can find it",Object(i.jsx)(O.a,{href:"/".concat(window.location.search),children:Object(i.jsx)("a",{className:_.a.solutionLink,children:"here"})})]}),Object(i.jsx)("div",{children:null===t?Object(i.jsx)("div",{className:"".concat(_.a.loading," ").concat(_.a.board),children:a(new Array(18)).map((function(e,n){return Object(i.jsx)("div",{className:_.a.cell},n)}))}):Object(i.jsx)("div",{children:Object(i.jsx)(d.a,{grid:t})})}),Object(i.jsx)("div",{className:_.a.generateNewPuzzle,children:Object(i.jsx)("button",{onClick:function(){return o()},className:_.a.generateNewPuzzleButton,children:"Generate puzzle"})})]})}},"20a2":function(e,n,t){e.exports=t("nOHt")},BsWD:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t("a3WO");function o(e,n){if(e){if("string"===typeof e)return Object(r.a)(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(r.a)(e,n):void 0}}},IUck:function(e,n,t){"use strict";function r(e){var n=Object.keys(e).map((function(n){return n+"="+e[n]})).join("&");return"/".concat(""!==n?"?".concat(n):"")}t.d(n,"a",(function(){return r}))},Lnxd:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var r=t("q1tI"),o=t.n(r),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},c=o.a.createContext&&o.a.createContext(a),i=function(){return(i=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},l=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};function u(e){return e&&e.map((function(e,n){return o.a.createElement(e.tag,i({key:n},e.attr),u(e.child))}))}function s(e){return function(n){return o.a.createElement(f,i({attr:i({},e.attr)},n),u(e.child))}}function f(e){var n=function(n){var t,r=e.attr,a=e.size,c=e.title,u=l(e,["attr","size","title"]),s=a||n.size||"1em";return n.className&&(t=n.className),e.className&&(t=(t?t+" ":"")+e.className),o.a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:t,style:i(i({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),c&&o.a.createElement("title",null,c),e.children)};return void 0!==c?o.a.createElement(c.Consumer,null,(function(e){return n(e)})):n(a)}},NAr4:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t("ulpj");function o(e,n){return e.map((function(e,t){return e.map((function(e,o){var a="".concat(t,"c").concat(o),c=parseInt(n[a]);return a in n&&c in r.b?[c,""]:e}))}))}},ODXe:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t("BsWD");function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(t.push(c.value),!n||t.length!==n);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return t}}(e,n)||Object(r.a)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},Vjw5:function(e,n,t){e.exports={board:"Problems_board__3Mcrg",cell:"Problems_cell__2dtxb",innerCell:"Problems_innerCell__3VYOw",generateNewPuzzle:"Problems_generateNewPuzzle__1iYZx",generateNewPuzzleButton:"Problems_generateNewPuzzleButton__3uiYi",solutionLink:"Problems_solutionLink__3_62m",loading:"Problems_loading___sThN",placeload:"Problems_placeload__3aC73"}},VlDF:function(e,n,t){"use strict";function r(){var e=window.location.search.substring(1);return JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}t.d(n,"a",(function(){return r}))},WRH7:function(e,n,t){e.exports={board:"Board_board__2OaJV",cell:"Board_cell__2K0ME",innerCell:"Board_innerCell__2FY5I"}},YFqc:function(e,n,t){e.exports=t("cTJO")},a3WO:function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}t.d(n,"a",(function(){return r}))},cTJO:function(e,n,t){"use strict";var r=t("J4zp"),o=t("284h");n.__esModule=!0,n.default=void 0;var a=o(t("q1tI")),c=t("elyg"),i=t("nOHt"),l=t("vNVm"),u={};function s(e,n,t,r){if((0,c.isLocalURL)(n)){e.prefetch(n,t,r).catch((function(e){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;u[n+"%"+t+(o?"%"+o:"")]=!0}}var f=function(e){var n=!1!==e.prefetch,t=(0,i.useRouter)(),o=t&&t.pathname||"/",f=a.default.useMemo((function(){var n=(0,c.resolveHref)(o,e.href,!0),t=r(n,2),a=t[0],i=t[1];return{href:a,as:e.as?(0,c.resolveHref)(o,e.as):i||a}}),[o,e.href,e.as]),d=f.href,p=f.as,b=e.children,v=e.replace,h=e.shallow,m=e.scroll,_=e.locale;"string"===typeof b&&(b=a.default.createElement("a",null,b));var j=a.Children.only(b),O=j&&"object"===typeof j&&j.ref,y=(0,l.useIntersection)({rootMargin:"200px"}),w=r(y,2),g=w[0],N=w[1],E=a.default.useCallback((function(e){g(e),O&&("function"===typeof O?O(e):"object"===typeof O&&(O.current=e))}),[O,g]);(0,a.useEffect)((function(){var e=N&&n&&(0,c.isLocalURL)(d),r="undefined"!==typeof _?_:t&&t.locale,o=u[d+"%"+p+(r?"%"+r:"")];e&&!o&&s(t,d,p,{locale:r})}),[p,d,N,_,n,t]);var x={ref:E,onClick:function(e){j.props&&"function"===typeof j.props.onClick&&j.props.onClick(e),e.defaultPrevented||function(e,n,t,r,o,a,i,l){("A"!==e.currentTarget.nodeName||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,c.isLocalURL)(t))&&(e.preventDefault(),null==i&&(i=r.indexOf("#")<0),n[o?"replace":"push"](t,r,{shallow:a,locale:l}).then((function(e){e&&i&&(window.scrollTo(0,0),document.body.focus())})))}(e,t,d,p,v,h,m,_)},onMouseEnter:function(e){(0,c.isLocalURL)(d)&&(j.props&&"function"===typeof j.props.onMouseEnter&&j.props.onMouseEnter(e),s(t,d,p,{priority:!0}))}};return(e.passHref||"a"===j.type&&!("href"in j.props))&&(x.href=(0,c.addBasePath)((0,c.addLocale)(p,"undefined"!==typeof _?_:t&&t.locale,t&&t.defaultLocale))),a.default.cloneElement(j,x)};n.default=f},jnBS:function(e,n,t){e.exports={icon:"Cell_icon__3DM7Q",orange:"Cell_orange__3fpfc",blue:"Cell_blue__xE9B-",red:"Cell_red__3RSfU",yellow:"Cell_yellow__1Ffzp",green:"Cell_green__3u_4N",purple:"Cell_purple__3EDlI",none:"Cell_none__2RTh1",noDirection:"Cell_noDirection__dr6vZ"}},peDM:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/problems",function(){return t("1Ip3")}])},ulpj:function(e,n,t){"use strict";var r,o;t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return o})),function(e){e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.RIGHT=2]="RIGHT",e[e.DOWN=3]="DOWN",e[e.LEFT=4]="LEFT"}(r||(r={})),function(e){e.ORANGE="orange",e.RED="red",e.YELLOW="yellow",e.BLUE="blue",e.GREEN="green",e.PURPLE="purple",e.NONE=""}(o||(o={}))},vNVm:function(e,n,t){"use strict";var r=t("J4zp"),o=t("TqRt");n.__esModule=!0,n.useIntersection=function(e){var n=e.rootMargin,t=e.disabled||!i,o=(0,a.useRef)(),u=(0,a.useState)(!1),s=r(u,2),f=s[0],d=s[1],p=(0,a.useCallback)((function(e){o.current&&(o.current(),o.current=void 0),t||f||e&&e.tagName&&(o.current=function(e,n,t){var r=function(e){var n=e.rootMargin||"",t=l.get(n);if(t)return t;var r=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var n=r.get(e.target),t=e.isIntersecting||e.intersectionRatio>0;n&&t&&n(t)}))}),e);return l.set(n,t={id:n,observer:o,elements:r}),t}(t),o=r.id,a=r.observer,c=r.elements;return c.set(e,n),a.observe(e),function(){a.unobserve(e),0===c.size&&(a.disconnect(),l.delete(o))}}(e,(function(e){return e&&d(e)}),{rootMargin:n}))}),[t,n,f]);return(0,a.useEffect)((function(){i||f||(0,c.default)((function(){return d(!0)}))}),[f]),[p,f]};var a=t("q1tI"),c=o(t("0G5g")),i="undefined"!==typeof IntersectionObserver;var l=new Map},whm7:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var r=t("nKUr"),o=(t("q1tI"),t("WRH7")),a=t.n(o),c=t("33Fu"),i=t("ulpj"),l=t("jnBS"),u=t.n(l);function s(e){var n=e.direction,t=e.colour,o=null;switch(n){case i.b.NONE:o=Object(r.jsx)(c.e,{});break;case i.b.UP:o=Object(r.jsx)(c.d,{});break;case i.b.DOWN:o=Object(r.jsx)(c.a,{});break;case i.b.LEFT:o=Object(r.jsx)(c.b,{});break;case i.b.RIGHT:o=Object(r.jsx)(c.c,{})}return Object(r.jsx)("div",{className:"".concat(u.a[t||"none"]," ").concat(u.a.icon," ").concat(n===i.b.NONE?u.a.noDirection:""),children:o})}function f(e){var n=e.grid;return Object(r.jsx)("div",{className:a.a.board,children:n.map((function(e,n){return e.map((function(e,n){return Object(r.jsx)("div",{className:a.a.cell,children:Object(r.jsx)("div",{className:a.a.innerCell,children:Object(r.jsx)(s,{direction:e[0],colour:e[1]})})},n)}))}))})}}},[["peDM",0,2,3,1]]]);