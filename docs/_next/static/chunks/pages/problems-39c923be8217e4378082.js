_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{"1Ip3":function(e,n,t){"use strict";t.r(n),function(e){t.d(n,"default",(function(){return O}));var r=t("KQm4"),o=t("ODXe"),c=t("nKUr"),a=t("q1tI"),i=t.n(a),l=t("ulpj"),u=t("NAr4"),s=t("whm7"),f=t("20a2"),d=t.n(f),p=t("IUck"),b=t("VlDF"),h=t("Vjw5"),v=t.n(h),m=t("YFqc"),y=t.n(m);function O(){var n,t=i.a.useState(null),a=Object(o.a)(t,2),f=a[0],h=a[1],m=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h(null);var t=new Array(3).fill(l.b.NONE).map((function(){return new Array(6).fill([l.b.NONE,""])})),r=Math.floor(3*Math.random())+3;fetch("".concat(e.env.basePath?e.env.basePath:"","/constraints/constraints-").concat(r,".txt")).then((function(e){return e.text()})).then((function(e){var r=e.split(/\r\n|\r|\n/),o=r[Math.floor(Math.random()*(r.length-1+1))],c=o.substring(1,o.length-2).split("), ").map((function(e){return e.substring(1).split("): (").map((function(e){return e.split(", ")}))})),a={};c.forEach((function(e){a["".concat(e[0][0],"c").concat(e[0][1])]=e[1][0]})),h(Object(u.a)(t,a));var i="/problems/".concat(Object(p.a)(a));n?d.a.replace(i,i,{shallow:!0}):d.a.push(i,i,{shallow:!0})}))};return i.a.useEffect((function(){if(0===window.location.search.length)m(!0);else{var e=new Array(3).fill(l.b.NONE).map((function(){return new Array(6).fill([l.b.NONE,""])})),n=Object(b.a)();h(Object(u.a)(e,n))}}),[]),Object(c.jsxs)("div",{className:v.a.problems,children:[Object(c.jsx)("h1",{children:"Here is a brand new puzzle for you to solve"}),Object(c.jsxs)("p",{children:["As always, there is only one possible solution. You can find it",Object(c.jsx)(y.a,{href:"/".concat(null===(n=window)||void 0===n?void 0:n.location.search),children:Object(c.jsx)("a",{className:v.a.solutionLink,children:"here"})})]}),Object(c.jsx)("div",{children:null===f?Object(c.jsx)("div",{className:"".concat(v.a.loading," ").concat(v.a.board),children:Object(r.a)(new Array(18)).map((function(e,n){return Object(c.jsx)("div",{className:v.a.cell},n)}))}):Object(c.jsx)("div",{children:Object(c.jsx)(s.a,{grid:f})})}),Object(c.jsx)("div",{className:v.a.generateNewPuzzle,children:Object(c.jsx)("button",{onClick:function(){return m()},className:v.a.generateNewPuzzleButton,children:"Generate puzzle"})})]})}}.call(this,t("8oxB"))},"20a2":function(e,n,t){e.exports=t("nOHt")},"8oxB":function(e,n){var t,r,o=e.exports={};function c(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===c||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:c}catch(e){t=c}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],s=!1,f=-1;function d(){s&&l&&(s=!1,l.length?u=l.concat(u):f=-1,u.length&&p())}function p(){if(!s){var e=i(d);s=!0;for(var n=u.length;n;){for(l=u,u=[];++f<n;)l&&l[f].run();f=-1,n=u.length}l=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(n){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function b(e,n){this.fun=e,this.array=n}function h(){}o.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];u.push(new b(e,n)),1!==u.length||s||i(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},BsWD:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t("a3WO");function o(e,n){if(e){if("string"===typeof e)return Object(r.a)(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(r.a)(e,n):void 0}}},IUck:function(e,n,t){"use strict";function r(e){var n=Object.keys(e).map((function(n){return n+"="+e[n]})).join("&");return"/".concat(""!==n?"?".concat(n):"")}t.d(n,"a",(function(){return r}))},KQm4:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var r=t("a3WO");var o=t("BsWD");function c(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},Lnxd:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var r=t("q1tI"),o=t.n(r),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=o.a.createContext&&o.a.createContext(c),i=function(){return(i=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},l=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};function u(e){return e&&e.map((function(e,n){return o.a.createElement(e.tag,i({key:n},e.attr),u(e.child))}))}function s(e){return function(n){return o.a.createElement(f,i({attr:i({},e.attr)},n),u(e.child))}}function f(e){var n=function(n){var t,r=e.attr,c=e.size,a=e.title,u=l(e,["attr","size","title"]),s=c||n.size||"1em";return n.className&&(t=n.className),e.className&&(t=(t?t+" ":"")+e.className),o.a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:t,style:i(i({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&o.a.createElement("title",null,a),e.children)};return void 0!==a?o.a.createElement(a.Consumer,null,(function(e){return n(e)})):n(c)}},NAr4:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t("ulpj");function o(e,n){return e.map((function(e,t){return e.map((function(e,o){var c="".concat(t,"c").concat(o),a=parseInt(n[c]);return c in n&&a in r.b?[a,""]:e}))}))}},ODXe:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t("BsWD");function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,c=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(l){o=!0,c=l}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return t}}(e,n)||Object(r.a)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},Vjw5:function(e,n,t){e.exports={board:"Problems_board__3Mcrg",cell:"Problems_cell__2dtxb",innerCell:"Problems_innerCell__3VYOw",generateNewPuzzle:"Problems_generateNewPuzzle__1iYZx",generateNewPuzzleButton:"Problems_generateNewPuzzleButton__3uiYi",solutionLink:"Problems_solutionLink__3_62m",loading:"Problems_loading___sThN",placeload:"Problems_placeload__3aC73"}},VlDF:function(e,n,t){"use strict";function r(){var e=window.location.search.substring(1);return JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}t.d(n,"a",(function(){return r}))},WRH7:function(e,n,t){e.exports={board:"Board_board__2OaJV",cell:"Board_cell__2K0ME",innerCell:"Board_innerCell__2FY5I"}},YFqc:function(e,n,t){e.exports=t("cTJO")},a3WO:function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}t.d(n,"a",(function(){return r}))},cTJO:function(e,n,t){"use strict";var r=t("J4zp"),o=t("284h");n.__esModule=!0,n.default=void 0;var c=o(t("q1tI")),a=t("elyg"),i=t("nOHt"),l=t("vNVm"),u={};function s(e,n,t,r){if((0,a.isLocalURL)(n)){e.prefetch(n,t,r).catch((function(e){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;u[n+"%"+t+(o?"%"+o:"")]=!0}}var f=function(e){var n=!1!==e.prefetch,t=(0,i.useRouter)(),o=t&&t.pathname||"/",f=c.default.useMemo((function(){var n=(0,a.resolveHref)(o,e.href,!0),t=r(n,2),c=t[0],i=t[1];return{href:c,as:e.as?(0,a.resolveHref)(o,e.as):i||c}}),[o,e.href,e.as]),d=f.href,p=f.as,b=e.children,h=e.replace,v=e.shallow,m=e.scroll,y=e.locale;"string"===typeof b&&(b=c.default.createElement("a",null,b));var O=c.Children.only(b),_=O&&"object"===typeof O&&O.ref,j=(0,l.useIntersection)({rootMargin:"200px"}),w=r(j,2),g=w[0],N=w[1],E=c.default.useCallback((function(e){g(e),_&&("function"===typeof _?_(e):"object"===typeof _&&(_.current=e))}),[_,g]);(0,c.useEffect)((function(){var e=N&&n&&(0,a.isLocalURL)(d),r="undefined"!==typeof y?y:t&&t.locale,o=u[d+"%"+p+(r?"%"+r:"")];e&&!o&&s(t,d,p,{locale:r})}),[p,d,N,y,n,t]);var x={ref:E,onClick:function(e){O.props&&"function"===typeof O.props.onClick&&O.props.onClick(e),e.defaultPrevented||function(e,n,t,r,o,c,i,l){("A"!==e.currentTarget.nodeName||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,a.isLocalURL)(t))&&(e.preventDefault(),null==i&&(i=r.indexOf("#")<0),n[o?"replace":"push"](t,r,{shallow:c,locale:l}).then((function(e){e&&i&&(window.scrollTo(0,0),document.body.focus())})))}(e,t,d,p,h,v,m,y)},onMouseEnter:function(e){(0,a.isLocalURL)(d)&&(O.props&&"function"===typeof O.props.onMouseEnter&&O.props.onMouseEnter(e),s(t,d,p,{priority:!0}))}};return(e.passHref||"a"===O.type&&!("href"in O.props))&&(x.href=(0,a.addBasePath)((0,a.addLocale)(p,"undefined"!==typeof y?y:t&&t.locale,t&&t.defaultLocale))),c.default.cloneElement(O,x)};n.default=f},jnBS:function(e,n,t){e.exports={icon:"Cell_icon__3DM7Q",orange:"Cell_orange__3fpfc",blue:"Cell_blue__xE9B-",red:"Cell_red__3RSfU",yellow:"Cell_yellow__1Ffzp",green:"Cell_green__3u_4N",purple:"Cell_purple__3EDlI",none:"Cell_none__2RTh1",noDirection:"Cell_noDirection__dr6vZ"}},peDM:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/problems",function(){return t("1Ip3")}])},ulpj:function(e,n,t){"use strict";var r,o;t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return o})),function(e){e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.RIGHT=2]="RIGHT",e[e.DOWN=3]="DOWN",e[e.LEFT=4]="LEFT"}(r||(r={})),function(e){e.ORANGE="orange",e.RED="red",e.YELLOW="yellow",e.BLUE="blue",e.GREEN="green",e.PURPLE="purple",e.NONE=""}(o||(o={}))},vNVm:function(e,n,t){"use strict";var r=t("J4zp"),o=t("TqRt");n.__esModule=!0,n.useIntersection=function(e){var n=e.rootMargin,t=e.disabled||!i,o=(0,c.useRef)(),u=(0,c.useState)(!1),s=r(u,2),f=s[0],d=s[1],p=(0,c.useCallback)((function(e){o.current&&(o.current(),o.current=void 0),t||f||e&&e.tagName&&(o.current=function(e,n,t){var r=function(e){var n=e.rootMargin||"",t=l.get(n);if(t)return t;var r=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var n=r.get(e.target),t=e.isIntersecting||e.intersectionRatio>0;n&&t&&n(t)}))}),e);return l.set(n,t={id:n,observer:o,elements:r}),t}(t),o=r.id,c=r.observer,a=r.elements;return a.set(e,n),c.observe(e),function(){c.unobserve(e),0===a.size&&(c.disconnect(),l.delete(o))}}(e,(function(e){return e&&d(e)}),{rootMargin:n}))}),[t,n,f]);return(0,c.useEffect)((function(){i||f||(0,a.default)((function(){return d(!0)}))}),[f]),[p,f]};var c=t("q1tI"),a=o(t("0G5g")),i="undefined"!==typeof IntersectionObserver;var l=new Map},whm7:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var r=t("nKUr"),o=(t("q1tI"),t("WRH7")),c=t.n(o),a=t("33Fu"),i=t("ulpj"),l=t("jnBS"),u=t.n(l);function s(e){var n=e.direction,t=e.colour,o=null;switch(n){case i.b.NONE:o=Object(r.jsx)(a.e,{});break;case i.b.UP:o=Object(r.jsx)(a.d,{});break;case i.b.DOWN:o=Object(r.jsx)(a.a,{});break;case i.b.LEFT:o=Object(r.jsx)(a.b,{});break;case i.b.RIGHT:o=Object(r.jsx)(a.c,{})}return Object(r.jsx)("div",{className:"".concat(u.a[t||"none"]," ").concat(u.a.icon," ").concat(n===i.b.NONE?u.a.noDirection:""),children:o})}function f(e){var n=e.grid;return Object(r.jsx)("div",{className:c.a.board,children:n.map((function(e,n){return e.map((function(e,n){return Object(r.jsx)("div",{className:c.a.cell,children:Object(r.jsx)("div",{className:c.a.innerCell,children:Object(r.jsx)(s,{direction:e[0],colour:e[1]})})},n)}))}))})}}},[["peDM",0,2,3,1]]]);